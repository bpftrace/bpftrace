.TH vfswritesize 8  "2018-12-13" "USER COMMANDS"
.SH NAME
vfswritesize.bt \- VFS write size by file name ("vfs_write"). Uses bpftrace/eBPF.
.SH SYNOPSIS
.B vfswritesize.bt
.SH DESCRIPTION
This traces at every call to the vfs_write function using a kprobe.
It is handy for identifying writes and distribution of writes chunks sizes to a specific group of files.
It produces an histogram for each file name.

Since this uses BPF, only the root user can use this tool.
.SH REQUIREMENTS
CONFIG_BPF and bpftrace.
.SH EXAMPLES
.TP
Traces all VFS write calls until Ctrl-C is hit:
# vfswritesize.bt
.SH OVERHEAD
This traces kernel vfs_write functions and maintains in-kernel counts, which
are asynchronously copied to user-space. While the rate of VFS operations can
be very high (>1M/sec), this is a relatively efficient way to trace these
events, and so the overhead is expected to be small for normal workloads.
.SH SOURCE
This is from bpftrace.
.IP
https://github.com/iovisor/bpftrace
.PP
Also look in the bpftrace distribution for a companion _examples.txt file
containing example usage, output, and commentary for this tool.

This is a bpftrace version of the bcc tool of the same name. The bcc tool
may provide more options and customizations.
.IP
https://github.com/iovisor/bcc
.SH OS
Linux
.SH STABILITY
Unstable - in development.
.SH AUTHOR
Lorenzo Fontana
.SH SEE ALSO
vfsstat.bt(8)
